namespace SpriteKind {
    export const CatchingLure = SpriteKind.create()
    export const SwimmingFish = SpriteKind.create()
    export const CaughtFish = SpriteKind.create()
}
function introSequence () {
    Hook = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    scene.cameraFollowSprite(Hook)
    story.queueStoryPart(function () {
        story.spriteMoveToLocation(Hook, 80, 170, 100)
    })
    story.queueStoryPart(function () {
        Hook.setImage(lureImg)
        controller.moveSprite(Hook, 50, 0)
        Hook.vy = 50
        Hook.startEffect(effects.bubbles)
        canReel = true
    })
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (canReel) {
        Hook.setVelocity(0, -100)
    }
})
function spawnFish (numberOffFish: number) {
    for (let index = 0; index < numberOffFish; index++) {
        randomIndex = randint(0, fishImgs.length - 1)
        newFish = sprites.create(fishImgs[randomIndex], SpriteKind.SwimmingFish)
        tiles.placeOnRandomTile(newFish, assets.tile`tile4`)
        newFish.setBounceOnWall(true)
        direction = randint(0, 1)
        if (direction == 0) {
            newFish.setVelocity(randint(-30, -5), 0)
        } else if (direction == 1) {
            newFish.setVelocity(randint(5, 30), 0)
        }
        leftImg = fishImgs[randomIndex].clone()
        leftImg.flipX()

        sprites.setDataImage(newFish,"swim-right", fishImgs[randomIndex])
        sprites.setDataImage(newFish,"swim-left" , leftImg)
        sprites.setDataNumber(newFish, "points", fishPoints[randomIndex])
    }
}
let leftImg: Image = null
let direction = 0
let newFish: Sprite = null
let randomIndex = 0
let canReel = false
let Hook: Sprite = null
let lureImg: Image = null
let fishImgs: Image[] = []
let titleScreen = sprites.create(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ...........................4444444444444........................................................................................................................
    .........................44444444444444444......................................................................................................................
    .......................444444444444444444444....................................................................................................................
    .....................444444444444444444444444...................................................................................................................
    .....................4444444444444444444444444..................................................................................................................
    ....................444444444444444444444444444.................................................................................................................
    ....................444444444444444444444444444....................44444444444444444444.........................................................................
    ...................44444444444444444.4444444444...................4444444444444444444444........................................................................
    ...................44444444444444......444444444..................4444444444444444444444........................................................................
    ..................44444444444444........44444444..................444444444444444444444.........................................................................
    ..................4444444444444.........44444444...................44444444444444444444.........................................................................
    ..................444444444444.............444............4444.....444444444444444..............................................................................
    ..................444444444444............................4444............4444444...............................................................................
    ..................44444444444............................44444............4444444...............................................................................
    ..................44444444444...........................444444............4444444...............................................................................
    ..................44444444444...........................4444444......ffff.4444444...............................................................................
    ..................44444444444..................fff.....44444444...fff.....4444444...........55555555............................................................
    ..................44444444444....................fff..444444444ffff.......4444444..........5555555555.......5...................................................
    ..................44444444444.......................ffff44444ff...........4444444.........55555555555......5555....55555........................................
    ..................44444444444........................444f44ff444.........4444444..........55555555555......55555...55555........................................
    ..................44444444444.....ffffffffffffffffffffff44444444.........4444444.........55555.............55555...55555........................................
    ..................44444444444.............4444......4444444444fffffffff..4444444.........55555.............55555....55555.......................................
    ..................44444444444............44444......444444444444.........4444444.........55555............555555555555555.......................................
    ...................4444444444............444444....444f444444444.........4444444.........5555.............555555555555555.......................................
    ...................4444444444............444444....fff44444444fff........4444444.........5555.............555555555555555.......................................
    ...................4444444444............444444..fff444444444444.ff......4444444.........5555.............55555555555555........................................
    ...................44444444444...........444444fff4444444.4444444..ff...4444444..........5555.............55555555555555........................................
    ....................4444444444...........444444...4444444..444444....f..4444444..........5555.......555...55555555555555........................................
    ....................4444444444..........4444444..44444444..444444.....f.4444444..........5555.......555...5555555...5555........................................
    ....................4444444444..........4444444..44444444..444444......f4444444..........5555.......555...555555....5555........................................
    .....................4444444444.......44444444...44444444..444444.......4444444..........5555......5555....55555....5555........................................
    .....................4444444444444444444444444...44444444..4444444......4444444..........55555.....5555....55555....5555........................................
    .....................444444444444444444444444...44444444...4444444......4444444...........5555555555555....55555....555.........................................
    ......................44444444444444444444444...44444444...4444444......4444444...........555555555555......5555....555.........................................
    ......................4444444444444444444444....44444444...4444444......4444444............555555555........5555....555.........................................
    .......................444444444444444444444....4444444....4444444......4444444.................................................................................
    ........................4444444444444444444.....4444444.....444444......4444444.................................................................................
    .........................4444444444444444........44444......444444......4444444.................................................................................
    ..........................444444444444444.....................444........444444.................................................................................
    ................................444444....................................4444..................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ........................................................4444....................................................................................................
    .......................................................444444..........444......................................................................................
    .......................................................44444.........4444444..........4....44...................................................................
    .......................................................44444........4444444444........44.44444444444..........4444444...........................................
    .......................................................4444444.....444444444444.......44444444444444444......444444444..........................................
    ........................................................4444444....444444444444.......444444444444444444.....444444444..........................................
    ..........................................................44444...4444444444444.......4444...44444444444....444444444...........................................
    ...........................................................4444...4444444444444.......4444...44444..44444...44444444............................................
    ...........................................................4444...4444444444444.......4444...44444..44444...44444...4444........................................
    ...................................................444.....4444....444444444444.......4444...44444..44444....44444444444........................................
    ...................................................444444444444....44444444444........4444...44444..44444....44444444444........................................
    ...................................................444444444444.....444444444.........4444..444444..44444.....44444444..........................................
    ...................................................444444444444.......444444..........4444..44444.....44.......444444...........................................
    ....................................................44444444444.........................4.......................................................................
    .....................................................444444444..................................................................................................
    ........................................................444.....................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ....................................................................................................444444......................................................
    ....................................................................................................444444......................................................
    ...................................................................................................4444444......................................................
    ............................................4444...................................................4444444......................................................
    ..........................................4444444...................44444..........................444444.......................................................
    .........................................44444444..................444444..........................444444.......................................................
    ........................................444444444..................444444..........................444444.......................................................
    ........................................44444.4444.................44444...........................444444.......................................................
    .......................................44444..444..................................................444444.......................................................
    .......................................4444..4444................................................4.444444.......................................................
    .......................................4444..4444...............................................4.4444444.......................................................
    ......................................4444..44444...................................444........4..44444444444444................................................
    ......................................4444.44444.......................4............4444.......4..444444444444444...............................................
    ......................................444..44444................4444...............44444......4....444444444444444..............................................
    .....................................4444.44444................44444..............444444......4..444444444.4444444..............................................
    .....................................444444444.................44444.............4444444.....4..4444444..44....444..............................................
    .....................................44444444.................4444444...........44444444.....4.4444444.44......444..............................................
    .....................................44444444.................4444444..........444444444.....4444444444.......4444....4.........................................
    ....................................444444444444444444444444444444444.........44444..444....4444444444........44444444444.......................................
    ...................................4444444444444444444444444444444444.......444444...444...4444444444.........444....4444.......................................
    .................................444444444444444444444444444444444444...4444444444...444..44444444444.........444...44444.......................................
    ............................4444444444444444444.................444444444444444444444444.44444..44444.........4444.444444.......................................
    ............................4444444444444444...............4444444444444444444444444444444444...4444..........4444444444........................................
    ............................444444444444444......................444444444....44444444444444....4444..........444444444.........................................
    .................................44444444.........................................444444444.....444.............44444...........................................
    ...............................444444444........................................................................................................................
    ..............................444444444.........................................................................................................................
    .............................4444444444.........................................................................................................................
    ............................444444.4444.........................................................................................................................
    ............................44444..4444.........................................................................................................................
    ............................4444...444..........................................................................................................................
    ............................444...4444..........................................................................................................................
    ............................444..44444..........................................................................................................................
    ............................4444444444..........................................................................................................................
    ............................444444444...........................................................................................................................
    .............................4444444............................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.Player)
scene.setBackgroundImage(img`
    5555555555555555555511119999999999999999999999999999999999999999999999999999999991111111111111111999999999999999999999999999999999999999999999999999111111111111
    5555555555555555555511119999999999999999999999999999999999999999999999999999999991111111111111111999999999999999999999999999999999999999999999999911111111111111
    5555555555555555555511119999999999999999999999999999999999999999999999999999999991111111111111111999999999999999999999999999999999999999999999999911111111111111
    5555555555555555555511119999444444999999999999999999999999999999999999999999999999111111111111111999999999999999999999999999999999999999999999999111111111111111
    5555555555555555555511119999999994444999999999999999999999999999999999999999999999911111111111111999999999999999999999999999999999999999999999999111111111111111
    5555555555555555555111119999999999994444499999999999999999999999999999999999999999999111111111119999999999999999999999999999999999999999999999999111111111111111
    5555555555555555555111999999999999999999999999999999999999999999999999999999999999999999111199999999999999999911111111199999999999999999999999999111111111111111
    5555555555555555551199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111999999999999999999999999111111111111111
    5555555555555555559999949999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111199999999999999999999911111111111111
    5555555555555555599999944444999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111119999999999999999999999911111111111
    5555555555555559999999999994999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111199999999999999999999999999111111
    5555555555555599999999999999499999999999999999999999999999999911111119999999999999999999999999999999999999911111111111111111111199999999999999999999999999999999
    5555555555555999999999999999444449999999999999999999999999999911111111999999999999999999999999999999999999911111111111111111111199999999999999999999999999999999
    5555555555559999994999999999999944999999999999999999999999999911111111999999999999999999999999999999999999911111111111111111111199999999999999999999999999999999
    5555555599999999999499999999999999999999999999999999999991111111111111199999999999999999999999999999999999911111111111111111111199999999999999999999999999999999
    9999999999999999999949999999999999999999999999999999999111111111111111111119999999999999999999999999999999911111111111111111111199999999999999999999999999999999
    9999999999994999999994999991111111999999999999999999991111111111111111111119999999999999999999999999999999991111111111111111111199999999999999999999999999999999
    9999999999999499999994499111111111119999999999999999991111111111111111111119999999999999999999999999999999999999999999999111111199999999999999999999999999999999
    9999999499999449999911111111111111111119999999999999991111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999499999949999911111111111111111119999999999999991111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9949999449999944999911111111111111111119999999999999991111111111111111111119999999999999999999999999999999999999999999999999999999999999999999997999999999999999
    9949999949999999999911111111111111111111999999999999999991111111111111111199999999999999999999999999999999999999999999999999999999999999999999997799999999999999
    9949999949999999999911111111111111111111999999999999999991111111111111111999999999999999999999999999999999999999999999999999999999999999999999997779999999999999
    9949999944999999999911111111111111111111999999999999999999111111199999999999999999999999999999999999999999999999999999999999999999999999999999997777999999999999
    9949999994999999979911111111111111111119999999999999999999911119999999999999999999999999999999999999999999999999999999999999999999999999999999997777779999999999
    9949999994499997779999911111111111111119999999999999999999999999999999999999999999999999991119999999999999999999999999999999999999999999999999997777777999999999
    9949999994499997779999911111999977999999999999999999999999999999999999999999999999999999991111911111111999999999999999999999999999999999999999977777777799999999
    9449999999997777779999911119999977999999999999999999999999999999999999999999999999999999991111111111111199999999999999999999999999999999999999777777777799999999
    9449999977777777779999999999999777999999999999999999999999999999999999999999999999999999111111111111111199999999999999999999999999999999999997777777777799999999
    9949997777777777779999999999997777799999999999999999999999999999799999999999999999999999111111111111111199999999999999999999999999999999999977777777777777999999
    9999999777777777779999999999977777779999999999999999999999999997779999999999999999999999111111111111111199999999999999779999999999999999999999999977777777999999
    9999999997777777779999999999997777779999999999999999999999999977779999999999999999999999111111111111111199999999999997777999999999999999999999999977777777999999
    9999999999777777777999999999997777779999999999999999999999999777777999999999999999999999111111111111199999999999999977777777799999999999999999999777777999999999
    9999999997777777777999999999977777779999999999999999999999997777777999999999999999999999999999999999999999999999999977777777777999999999999999997777777799999999
    9999999977777777777999999999777777777999999999999999999999777777777799999999999999999999999997799999999999999999999977777777777999999999999999997777777779999999
    9999997777777777777799999997777777777799999999999999999997777777777779999999999999999999999977779999999999999999999977777777777999999999999999977777777777799999
    9999777777777777777799999977777777777799999999999999999999977777777777999999999999999999999777777999999999999999999777777777777999999999999999777777777777777999
    9999977777777777777779999977777777777799999999999999999999999777777777999999999999999999997777777999999999999999777777777777779999999999999997799777777777777999
    9999999977777777777779999997777777777799999999999999999999999777777777999999999999999999977777777799999999999999997777777777777799999999999999999777777777777999
    9999999977777777777779999997777777777799999999999999999999997777777799999999999999999997777777777799999999999999999977777777777777999999999999997777777777779999
    9999999977777777779999999999777777777999999999999999999999977777777799999999999999999777777777777799999999999999999777777777777777999999999999997777777777799999
    9999997777777777779999999999777777777999999999999999999999777777777799999999999999999777777777777799999999999999999777777777777779999999999999977777777799999999
    9999997777777777779999999999777777777799999999999999999997777777777779999999999999999977777777777799999999999999997777777777777799999999999999777777777777999999
    9999977777777777779999999997777777777799999999999999999977777777777779999999999999999999977777777999999999999999977777777777779999999999999997777777777777777999
    9999777777777777779999999997777777777779999999999999999777777777777777999999999999999999777777777799999999999999977777777777779999999999999977777777777777777799
    9997777777777777777999999997777777777779999999999999999999997777777777999999999999999999777777777777999999999999999977777777777779999999999999999777777777777799
    9999777777777777777999999997777777777779999999999999999999997777777777999999999999999997777777777777999999999999999777777777777777799999999999997777777777779999
    9999997777777777777999999977777777777779999999999999999999997777777777999999999999999977777777777777999999999999999777777797777777999999999999997777777777999999
    9999997777777779999999999777777777777779999999999999999999977777777777999999999999999777777777777777999999999999997777779999799999999999999999777777777799999999
    999999777777777999999999977777777777777799999999999999999977777777777799999999999997777777777777779999999999999999999999999ee9999999999999999977777799ee99999999
    999997777777777999999999777777777777777799999999999999999777777777777779999999999999999777777777777999999999999999999999999ee9999999999999999999999999ee99999999
    999977777777777799999999777777777777777999999999999999997777777777777777999999999999997777777777777999999999999999999999999ee9999999999999999999999999ee99999999
    9977777777777777999999999999999e9999999999999999999999977777777777777777999999999999997777777777777799999999999999999999999ee9999999999999999999999999ee99999999
    9997777777777777999999999999999e9999999999999999999999999999999ee9977777999999999999777777777777777779999999999999999999999eee99999999999999999999999eee99999999
    999999999ee99999999999999999999e9999999999999999999999999999999ee9999999999999999997777777777799997779999999999999999999999eee99999999999999999999999eee99999999
    999999999ee99999999999999999999e999999999999999999999999999999eee999999999999999999777777999ee9999999999999999999999999999eeee99999999999999999999999eee99999999
    99999999eee99999999999999999999e999999999999999999999999999999eee999999999999999999999999999ee9999999999999999999999999999eeee99999999999999999999999eee99999999
    99999999eee9999999999999999999e9999999777777777999999999999999eee99999999999999999999999999eeee999999999999999999999999999eeee9999999999999777777777eeee99999999
    99999999ee99999999999999999999e9777777777777777777799999999999eee99999999999999999999999999eeee999999999999999997777777777eeee7777777777777777777777eeee77999999
    9999999eee9999999999999999999777777777cc7777777777777777799999eee99999999999999999999977777eeee77777777777777777777777777777777777777777777777777777e7ee77779999
    9999999eee977777777777777777777777777cccc777777777777777777777eee99999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777779
    9977777eee777777777777777777777777777ccccc77777777777777777777eee77777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    9977777eee777777777777777777777777777ccccc7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    77777777777777777777777777777777777777cc77777777777777777777777777777777ddd7777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    77777777777777777777777777777777777777767777777777777777777777777777777dddddd777775f5f77777777777777777777777777777777777777777777777777777777777777777777777777
    77777777777777777777777777777777777777766677777777777777777777777777777dddddd77777595ff7777777777777777777777777777777777444777777777777777777777777777777777777
    777777777777777777777777777777777777777667777777777777777777777777777777ddd77777775f5f77777777777777777777777777777777777444477777777777777777777777777777777777
    7777777777777777777777777777777777777776777777777777777777777777777777777dd7777777777777777777777777777767776777777777777444477777777777777777777777777777777777
    7777777777777777777777777777777777777776777777777777777777777777777777777666777777777777777777777777777766766777777777777444777777777777777777677766777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777667777777777777777777777777777776667777777777777776777777777777777777767767777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777767777777777777777777777777777777777777777777777776777777777777777777767677777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777767777777777777777777777777777777777777777777777776677777777777777777766677777777777777
    7777777777555777777777777777777777777777777777777777777777777777777777777767777777777777777777777777777777777777777777777776777777777777777777776777777777777777
    7777777775555577777777777777777777777777777777777767777777777777777777777777777777777777777777777777777777777777777777777766777777777777777777777777777777777777
    7777777775555577777777777777777777777777777777777767777776777777777777777777777777777772777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777555777777777777777777777777777777777777766777767777777777777777777777777777222777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777767777777777767777777777777777777777777776767667777777777777777777777777777222227777777777777777777777777777777777777777777777777777777777777777777777
    7777777777666777777776767777777777777777777777777776666777777777777777777777777777777222227777777777777777777777777777777777777777777777777777777777777777777777
    7777777777767777777777667777777777777777777777777777767777777777777777777777777777772222227777777777777777777777777777777777777777777777777777777777777777777777
    7777777777667777777777777777777777777777777777777777777777777777777777777777777777777222277777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777f5f577777777777777777777777777777777777777777777722777777777777777777777777777777777777777777777777777777777777777777777777
    777777777777777777777777777777777777ff59577777777777777777777777777777777777777777777767777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777f5f577777737777777777777777777777777777777777777766667777777777777777777771171777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777773333777777777777777777777777777777777777766667777777777777777777771111177777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777333777777777777777777777777777777777777767777777777777777777777771111177777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777773333777777777777777777777777777777777777767777777777777777777777771111177777777777777777777799777777777777777777777
    7777777777777777777777777777777777777777777773333777777777777777777777777777777777777777777777777777777777777777111777777777777777777777999977777777777777777777
    7777777777777777777777777777777777777777777777337777777777777777777777777777777777777777777777777777777777777777761777777777777777777777999977777777777777777777
    7777677767777777777777777777777777777777777777677777777777777777777777777777777777777777777777777777777777777777766777777777777777777777999777777777777777777777
    7777677667777777777777777777777777777777777777666677777777777777777777777777777777777777777777777777777777777777766677777777777777777777776777777777777777777777
    7777666677777777777777777777777777777777777777666677777777777777777777777777777777777777777777777777777777777777767777777777777777777777776666777777777777777777
    7777777777777777777777777777777777777777777777677777777777777777777777777777777777777777777777777777777777777777767777777777777777777777776666777777777777777777
    7777777777777777777777777777777777777777777777677777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777677766777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777775f5f777777777677667777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777775f9ff77777777666677777777777777777777777777777
    7777777777777777777777777776777767777777777777777777777777777777777777777777677677777777777777777777777777777777775f5f777777777766777777777777777777777777777777
    7777777777777777777777777776677667777777777777777777777777777777777777777777666677777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777778777777777777777777677677777777777777777777777777777777777777777777766777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777788877777777777777777667677777777777777777777777777777777777777777777777777777aaa777777777777777777777777777777777777777777777777777777777777777777777777
    7777777788887777777777777777766677777777777777777777777777777777777777777777777777777aaaa77777777777777777777777777777777777777777777777777777777777777777777777
    777777778888777777777777777777767777777777777777777777777777777777777777777777777777aaaaa77777777777777777777777777777777777777777777777777777777777777777777777
    777777778887777777777777777777777777777777777777777777777777777777777777777777777777aaaa777777777777777777777777777777777777777777777777777777777777777777777777
    7777777778877777777777777777777777777777777777777777777777777777777777777777777777777aaa777777777777777777777777777777777777777777777777777777777777777777777777
    7777777776777777777777777777777777777777777777777777777777777777777777777777777777777767777777777777777777777777777777777777777777777777777777777777777777777777
    7777777776777777777777777777777777777777777777777777776777677777777777777777777777777766667777777777777777777777777777777777777777777777777777777777777777777777
    7777777776777777777777777777777777777777777777777777776766677777777777777777777777777766667777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777666777777777777777777777777777767777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777767777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777766777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776776777777777777777777777777777777777777677
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776666777777777777777777777777777777777777767
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777667777777777777777777777777777777777777766
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    `)
tiles.setTilemap(tilemap`level1`)
let fishingCat = sprites.create(img`
    4......848..........eeee
    4.....84488.......ee....
    4....8888888.....e......
    444....44f4.....e.......
    ..4....44444....e.......
    ..4..4444444...e........
    .44.dd444.....e.........
    .4.ddd444....e..........
    .4.4444dd.4.e...........
    .4.4444d444e............
    .4.d424444.44...........
    .4.d4424424444..........
    .4.dd4222d4444..........
    .4.4444ddd4.444.........
    .444444dd42..444........
    ..422222222.............
    `, SpriteKind.Player)
tiles.placeOnTile(fishingCat, tiles.getTileLocation(0, 9))
fishImgs = [
img`
    . . . . . . . . . . . c c c c c 
    . . . . . . . . . c c 7 7 7 6 c 
    . . . . . . . . c c 7 7 7 c c . 
    . . . . . . . . c 6 7 7 c . . . 
    . . . . . . . . c 6 6 6 c . . . 
    . . . . . . . . c 6 6 6 c c . . 
    . . . c c c c c c c 6 6 6 c c . 
    . . c 6 7 7 7 7 6 c c 6 6 6 c . 
    . c 7 7 7 7 7 7 7 7 c 6 6 6 c c 
    c 6 7 7 7 7 7 7 7 7 6 c 6 6 6 c 
    c 7 c 6 6 6 6 c 7 7 7 c 6 6 6 c 
    f 7 c c 6 6 c c 7 7 7 f 6 6 6 c 
    f 7 6 f 6 6 f 6 7 7 7 f 6 6 6 c 
    . f 7 7 7 7 7 7 7 7 6 f 6 6 c . 
    . c 1 c f f 1 c 7 6 f 6 6 c c . 
    . c c c c c c c c c c c c . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . c c c c . . . . 
    . . . . . . c c d d d d c . . . 
    . . . . . c c c c c c d c . . . 
    . . . . c c 4 4 4 4 d c c . . . 
    . . . c 4 d 4 4 4 4 4 1 c . c c 
    . . c 4 4 4 1 4 4 4 4 d 1 c 4 c 
    . c 4 4 4 4 1 4 4 4 4 4 1 c 4 c 
    f 4 4 4 4 4 1 4 4 4 4 4 1 4 4 f 
    f 4 4 4 f 4 1 c c 4 4 4 1 f 4 f 
    f 4 4 4 4 4 1 4 4 f 4 4 d f 4 f 
    . f 4 4 4 4 1 c 4 f 4 d f f f f 
    . . f f 4 d 4 4 f f 4 c f c . . 
    . . . . f f 4 4 4 4 c d b c . . 
    . . . . . . f f f f d d d c . . 
    . . . . . . . . . . c c c . . . 
    `,
img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . c c c c c c . . . 
    . . . . . . c 5 5 5 5 5 c c . . 
    . . . . . c 5 5 5 5 5 5 5 5 c . 
    . . . . c b b b b b b 5 5 5 c . 
    . . . . c b b b b 1 b b c c . . 
    . . . . c 1 1 b b 1 1 1 c . . . 
    . . . c 1 1 1 1 b 1 1 1 c . . . 
    . . . c 1 1 1 1 b 1 1 1 b b c c 
    . . c c d 1 1 1 b 1 b 1 5 5 5 c 
    . . c c d 1 c 1 1 1 b 1 b b 5 c 
    . c c d d 1 1 1 1 1 b 1 f b 5 c 
    f d d d 1 1 1 1 1 b b b f . c c 
    f f f f f 1 1 1 b b 5 5 5 f . . 
    . . . . . f f f 5 5 5 5 5 f . . 
    . . . . . . . . f f f f f f . . 
    `,
img`
    .............ccfff..............
    ...........ccddbcf..............
    ..........ccddbbf...............
    ..........fccbbcf...............
    .....fffffccccccff.........ccc..
    ...ffbbbbbbbcbbbbcfff....ccbbc..
    ..fbbbbbbbbcbcbbbbcccff.cdbbc...
    ffbbbbbbffbbcbcbbbcccccfcdbbf...
    fbcbbb11ff1bcbbbbbcccccffbbf....
    fbbb11111111bbbbbcccccccbbcf....
    .fb11133cc11bbbbcccccccccccf....
    ..fccc31c111bbbcccccbdbffbbcf...
    ...fc13c111cbbbfcddddcc..fbbf...
    ....fccc111fbdbbccdcc.....fbbf..
    ........ccccfcdbbcc........fff..
    .............fffff..............
    `,
img`
    . . . . . . . . f f f f f . . . 
    . . . . . . f f 5 5 5 5 5 f . . 
    . . . . f f 5 5 5 5 5 5 5 5 f . 
    . . . . f 8 8 8 8 8 8 5 5 5 f . 
    . . . f f 8 8 9 9 9 8 8 f f . . 
    . . . f 8 8 8 8 8 9 8 8 f . . . 
    . . . f 8 8 8 8 8 8 8 8 f . f f 
    . . . f 8 8 8 8 8 8 9 8 8 8 5 f 
    . . f f 8 8 c 8 8 8 8 8 5 5 5 f 
    . f f 8 8 8 8 8 8 8 8 8 8 8 5 f 
    f 8 8 8 8 9 9 8 8 8 8 8 f . f f 
    f f f 8 8 8 9 9 8 8 8 8 f . . . 
    . . . f f 8 8 8 8 8 8 5 5 f . . 
    . . . . . f f f 5 5 5 5 5 f . . 
    . . . . . . . . f f f f f f . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . . f c c c c f . . . . . 
    . . c c f b b 3 3 b b f c c . . 
    . c b 3 3 b b c c b b 3 3 b c . 
    . f 3 c c c b c c b c c c 3 f . 
    f c b b c c b c c b c c b b c f 
    c 3 c c b c c c c c c b c c 3 c 
    c 3 c c c c c c c c c c c c 3 c 
    . f b b c c c c c c c c b b f . 
    . . f b b c 8 9 9 8 c b b f . . 
    . . c c c f 9 3 1 9 f c c c . . 
    . c 3 f f f 9 3 3 9 f f f 3 c . 
    c 3 f f f f 8 9 9 8 f f f f 3 c 
    f 3 c c f f f f f f f f c c 3 f 
    f b 3 c b b f b b f b b c 3 b f 
    . c b b 3 3 b 3 3 b 3 3 b b c . 
    . . f f f f f f f f f f f f . . 
    `,
img`
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    .........88.........
    ........8888........
    ........8888........
    .........99.........
    .........99.........
    .........99.........
    ........1111........
    .......111111.......
    .......111111.......
    .......111111.......
    .......111111.......
    ........1111........
    ....................
    ....................
    `
]
let fishPoints = [
4,
7,
6,
20,
9,
7,
5
]
lureImg = img`
    . . c . . c . . 
    . . c . c c c . 
    . . c . . c . . 
    . 3 3 . . c . . 
    . 3 c 3 . c . . 
    . . c 3 . c . . 
    . 3 3 c . c . . 
    . . . . c . . . 
    `
introSequence()
spawnFish(50)
game.onUpdate(function() {
    let allswiming = sprites.allOfKind(SpriteKind.SwimmingFish)
    
    for (let fish of allswiming) {
        if (fish.vx < 0) {
          let rightImage = sprites.readDataImage(fish, "swim-right")
          fish.setImage(rightImage)
        } else {
           let leftImage = sprites.readDataImage(fish, "swim-left")
          fish.setImage(leftImage)
        }
    }
})